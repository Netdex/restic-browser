@import net.virtualvoid.restic._

@(hash: Hash, name: String, leaf: TreeLeaf, hexDump: String, entries: Seq[PackEntry])

<h3>Meta</h3>
<table>
    <tr><th>Filename</th><td>@name</td></tr>
    <tr><th>Size</th><td>@{leaf.size}</td></tr>
    <tr><th>Num Parts</th><td>@{leaf.content.size}</td></tr>
</table>

<h3>Contents (@{leaf.content.size} parts)</h3>
<table>
    <tr><th>Chunk</th><th>Pack</th><th>Offset</th><th>Size</th><th>Uncompressed Size</th><th>Compression Factor</th></tr>
@for(entry <- entries) {
    <tr>
        <td class="hash">@{entry.id.short}</td>
        <td class="hash"><a href="/pack/@{entry.packId.toString}">@{entry.packId.short}</a></td>
        <td class="num-cell">@{entry.offset}</td>
        <td class="num-cell">@{entry.length}</td>
        <td class="num-cell">@{entry.uncompressed_length.map(_.toString).getOrElse("")}</td>
        <td class="num-cell">@{entry.uncompressed_length.map(ul => (ul.toFloat / entry.length).formatted("%5.2f x")).getOrElse("")}</td>
    </tr>
}
</table>

<h3>Hexdump</h3>

<code><pre>@hexDump</pre></code>