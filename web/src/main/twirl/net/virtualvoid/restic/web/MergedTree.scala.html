@import net.virtualvoid.restic._

@(children: Seq[MergedTreeNode])

<table>
    <tr><th>Name</th><th>Num Snapshots</th><th>Num Versions</th></tr>
@for(node <- children.sortBy(n => (!n.isBranch, n.name))) {
    <tr>
        <td><a href="@{node.name}/">@{node.name}</a></td>
        <td>@{node.revisions.size}</td>
        <td>@{node.revisions.map { case (b: TreeBranch, _) => b.subtree; case (l: TreeLeaf, _) => l.content }.distinct.size}</td>
    </tr>
}
</table>